webpackJsonp([91],{1686:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(){return function(e){return new j.default(e).get("/signatures/count",function(t){e({type:C.default.GET_SIGN_PROFILE,profile:t})})}}function a(e,t){return function(n){return new j.default(n).post("/signatures/addUserSignature",e,function(e){n({type:C.default.CREATE_SEAL,seal:e}),t(e)})}}function i(e){return function(t){return new j.default(t).destroy("/signatures/deleteUserSignature/"+e,function(e){k.toastr.success(B.default.translate("actions.delete-seal-success")),t({type:C.default.DELETE_SEAL,seal:e})})}}function o(e){return function(t){return new j.default(t).get("/signatures/findUserSignature",function(n){t({type:C.default.GET_OFFICIAL_SEALS,seals:n}),e&&e()})}}function s(e){return function(t){return new j.default(t).post("/signatures/"+e+"/default",{},function(e){t({type:C.default.SEAT_DEFAULT,seals:e})})}}function f(e,t,n){return function(r){new j.default(r).post("/signatures/uploadContract",{file:e,type:t},function(e){r({type:C.default.UPLOAD_SIGN_FILE,fileInfo:e}),n()})}}function c(e,t){return function(n){new j.default(n).post("/signatures/setContract/"+e,t,function(t){n((0,W.default)("/signatures/"+e+"/add-seal"))})}}function l(e){return function(t){return new j.default(t).get("/signatures/findUserLinkman",function(n){t({type:C.default.GET_SIGNATURE_MEMBERS,members:n}),e&&e()})}}function d(e){return function(t){return new j.default(t).get("/signatures/getLinkman/"+e,function(e){t({type:C.default.GET_SIGNATURE_MEMBER,member:e})})}}function p(e,t,n){return function(r){return new j.default(r).post("/signatures/addLinkman",e,function(e){r({type:C.default.CREATE_SIGNATURE_MEMBER,member:e}),"pc"===t&&k.toastr.success(B.default.translate("actions.add-link-success")),n()})}}function m(e,t){return function(n){return new j.default(n).destroy("/signatures/deleteLinkman/"+e,function(e){n({type:C.default.DELETE_SIGNATURE_MEMBER,members:e}),k.toastr.success(B.default.translate("actions.remove-link-success")),t()})}}function g(e,t,n){return function(r){return new j.default(r).post("/signatures/updateLinkman/"+e,t,function(e){r({type:C.default.UPDATE_SIGNATURE_MEMBER,members:e}),k.toastr.success(B.default.translate("actions.update-link-success")),n()})}}function E(e,t){return function(n){return new j.default(n).getWithParams("/signatures",e,function(e){n({type:C.default.GET_SIGNATURES,lists:e}),t&&t()})}}function y(e,t){return function(n){return new j.default(n).getWithParams("/signatures",e,function(r){n({type:C.default.GET_SIGNATURES_MOBILE,lists:r,mobileActive:e.status||"ALL",pageNo:e.pageNo}),t&&t()})}}function S(e){return function(t){return new j.default(t).getWithParams("/signatures/findByKeyword",e,function(e){t({type:C.default.GET_SIGNATURES_BY_KEY_WORD,lists:e})})}}function b(e){return function(t){return new j.default(t).get("/signatures/"+e,function(e){t({type:C.default.GET_BY_SIGNATURE_ID,info:e})})}}function _(e,t,n){return function(r){return new j.default(r).post("/signatures/setContractSignStatus/"+e,t,function(e){r({type:C.default.ADD_SIGNATURE_SEALS,data:e}),n()})}}function h(e,t,n){return function(r){return new j.default(r).post("/signatures/setContractSignStatus/"+e,t,function(){n()})}}function T(e,t){return function(n){return new j.default(n).destroy("/signatures/deleteContract/"+e,function(e){n({type:C.default.DELETE_SIGNATURE,lists:e}),k.toastr.success(B.default.translate("actions.delete-sign")),t()})}}function w(e){return function(t){return new j.default(t).get("/signatures/pdfSignature/"+e,function(e){t({type:C.default.GET_PDF_SEALS,pdfSeals:e})})}}function v(e,t){return function(n){return new j.default(n).getWithParams("/users/authorizations",e,function(e){n({type:C.default.GET_SIGNATURES_AUTHORIZE,lists:e}),t&&t()})}}function A(e,t){return function(n){return new j.default(n).destroy("/users/authorization/"+e,function(){k.toastr.success(B.default.translate("actions.delete-authorize")),t()})}}function O(){return function(e){return new j.default(e).get("/signatures/api-signCount",function(t){e({type:C.default.GET_API_SIGNATURES,count:t})})}}function I(e){return function(t){return new j.default(t).getWithParams("/signatures/api-signCountStatistics",e,function(e){t({type:C.default.GET_API_SIGNATURES_BY_TIME,count:e})})}}function P(e){return function(t){return new j.default(t).getWithParams("/attestations/urlStatistics",e,function(e){t({type:C.default.GET_URL_STATISTICS,urlStatistics:e})})}}function G(e){return function(t){return new j.default(t).getWithParams("/products/saveStatistics",e,function(e){t({type:C.default.GET_SEC_STATISTICS,secStatistics:e})})}}function M(e){return function(t){return new j.default(t).getWithParams("/products/productStatistics",e,function(e){t({type:C.default.GET_ITEM_STATISTICS,itemStatistics:e})})}}function N(){return function(e){return new j.default(e).get("/products/totalStatistics",function(t){e({type:C.default.GET_CHART_COUNT,chartCount:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSignProfile=u,t.createSeal=a,t.deleteSeal=i,t.findAllSeals=o,t.setDefaultSeal=s,t.uploadSignFile=f,t.postSignatureInfo=c,t.findSignatureMembers=l,t.findSignatureMember=d,t.createSignatureMember=p,t.deleteSignatureMember=m,t.updateSignatureMember=g,t.getSignature=E,t.getSignatureMobile=y,t.getSignatureBykeyWord=S,t.findSignature=b,t.addSignatureSeals=_,t.refuseSignature=h,t.deleteSignature=T,t.getPdfSeals=w,t.getSignatureAuthorize=v,t.deleteSignatureAuthorize=A,t.getApiSignature=O,t.getApiSignatureByTime=I,t.getUrlStatistics=P,t.getSecurity=G,t.getItems=M,t.getChartCount=N;var R=n(448),C=r(R),U=n(449),j=r(U),k=n(298),L=n(295),B=r(L),D=n(454),W=r(D)},1981:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),s=function(e){return e&&e.__esModule?e:{default:e}}(o),f=function(e){function t(){return r(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"mobile-header"},this.props.children)}}]),t}(o.Component);t.default=f},1998:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),s=function(e){return e&&e.__esModule?e:{default:e}}(o),f=function(e){function t(){var e,n,a,i;r(this,t);for(var o=arguments.length,s=Array(o),f=0;f<o;f++)s[f]=arguments[f];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.test=function(){window.history.back()},i=n,u(a,i)}return a(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("span",{className:"back",onClick:this.test})}}]),t}(o.Component);t.default=f},2058:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(25),d=r(l),p=n(469),m=n(1686),g=n(1981),E=r(g),y=n(1998),S=r(y),b=n(454),_=r(b),h=n(686),T=r(h),w=n(576),v=r(w),A=n(1686),O=["phone","name"],I=function(e){return new v.default(e).nonEmpty("name","姓名").phoneNumber("phone","帐号").errors},P=function(e){return e.router.params.id?{name:e.signature.member.linkName,phone:e.signature.member.linkPhone}:{}},G=(o=(0,p.reduxForm)({form:"signatureMemberForm",fields:O,validate:I},function(e){return{initialValues:c({},P(e)),params:e.router.params,isEdit:!!e.router.params.id,onSubmit:function(t,n){var r=e.router.params.id;n(r?(0,A.updateSignatureMember)(r,c({},t),function(){n((0,_.default)("/mobile/signatures/members"))}):(0,m.createSignatureMember)(c({},t),"mobile",function(){n((0,_.default)("/mobile/signatures/members"))}))}}}))(s=function(e){function t(e){u(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentWillMount=function(){var e=n.props.params.id;e&&n.props.dispatch((0,A.findSignatureMember)(e))},n}return i(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.fields,n=t.phone,r=t.name,u=e.isEdit,a=e.invalid;return d.default.createElement("div",{className:"add-signatures product-common"},d.default.createElement(E.default,null,d.default.createElement(S.default,null),d.default.createElement("span",{className:"title"},u?"编辑签署人":"新建签署人"),d.default.createElement("span",{className:"back",style:{opacity:0}})),d.default.createElement("form",{onSubmit:this.props.handleSubmit},d.default.createElement("article",{className:"add-member-info"},d.default.createElement("section",null,d.default.createElement("span",{className:"item-name"},"姓名"),d.default.createElement("input",c({placeholder:"请填写姓名"},T.default.extract(r)))),d.default.createElement("section",null,d.default.createElement("span",{className:"item-name"},"账号"),d.default.createElement("input",c({placeholder:"请输入手机号"},T.default.extract(n))))),d.default.createElement("button",{type:"submit",className:"submit-member "+(a?"btn-disabled":""),disabled:a},u?"确认修改":"确认添加")))}}]),t}(l.Component))||s;t.default=G}});