webpackJsonp([62],{576:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(577),o=a(l),u=n(295),s=a(u),d=function(){function e(t){r(this,e),this.values=t,this._errors={}}return i(e,[{key:"mustEqual",value:function(e,t,n){return this.values[e]!=t&&(this.errors[e]=n),this}},{key:"postCode",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validatePostCode(this.values[e])||(this.errors[e]=s.default.translate("validate.postcode",{field:t})),this}},{key:"money",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateMoney(this.values[e])||(this.errors[e]=s.default.translate("validate.post-money",{field:t})),this}},{key:"payMoney",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validatePayMoney(this.values[e])||(this.errors[e]=s.default.translate("validate.post-money",{field:t})),this}},{key:"phoneNumber",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validatePhoneNumber(this.values[e])||(this.errors[e]=s.default.translate("validate.phone-number",{field:t})),this}},{key:"phone",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validatePhoneNumber(this.values[e])||(this.errors[e]=s.default.translate("validate.phone-number",{field:t})),this}},{key:"name",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateRealName(this.values[e])||(this.errors[e]=s.default.translate("validate.real-name",{field:t})),this}},{key:"email",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateEmail(this.values[e])||(this.errors[e]=s.default.translate("validate.email",{field:t})),this}},{key:"realName",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateRealName(this.values[e])||(this.errors[e]=s.default.translate("validate.real-name",{field:t})),this}},{key:"nonEmpty",value:function(e,t){return this.values[e]&&!/^\s*$/.test(this.values[e])||(this.errors[e]=s.default.translate("validate.not-empty",{field:t})),this}},{key:"creditCard",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateCreditCard(this.values[e])||(this.errors[e]=s.default.translate("validate.credit-card",{field:t})),this}},{key:"verifyCode",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateVerifyCode(this.values[e])||(this.errors[e]=s.default.translate("validate.verify-code",{field:t})),this}},{key:"captcha",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateCaptcha(this.values[e])||(this.errors[e]=s.default.translate("validate.verify-code",{field:t})),this}},{key:"password",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validatePassword(this.values[e])||(this.errors[e]=s.default.translate("validate.password",{field:t})),this}},{key:"rePassword",value:function(e,t,n){return(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&this.nonEmpty(e,n),o.default.validatePassword(this.values[e])?this.values[e]!==this.values[t]&&(this.errors[e]=s.default.translate("两次密码不一致")):this.errors[e]=s.default.translate("validate.password",{field:n}),this}},{key:"idCard",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateIdCard(this.values[e])||(this.errors[e]=s.default.translate("validate.id-card",{field:t})),this}},{key:"url",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateUrl(this.values[e])||(this.errors[e]=s.default.translate("validate.url",{field:t})),this}},{key:"chineseLength",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateChineseLength(this.values[e])||(this.errors[e]=s.default.translate("validate.packageName",{field:t})),this}},{key:"CreditCodeLength",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateCreditCodeLength(this.values[e])||(this.errors[e]=s.default.translate("请输入正确的18位社会信用代码",{field:t})),this}},{key:"positiveInteger",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validatePositiveInteger(this.values[e])||(this.errors[e]=s.default.translate("validate.real-name",{field:t})),this}},{key:"imageCode",value:function(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.nonEmpty(e,t),o.default.validateImageCode(this.values[e])||(this.errors[e]=s.default.translate("validate.imageCode",{field:t})),this}},{key:"errors",get:function(){return this._errors}}]),e}();t.default=d},577:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){n(this,e)}return a(e,null,[{key:"validatePhoneNumber",value:function(e){return!e||/^1[0-9]{10}$/.test(e)}},{key:"validatePassword",value:function(e){return!e||/(?=.*[0-9])(?=.*[a-zA-Z]).{6,18}$/.test(e)&&e.indexOf(" ")<=-1}},{key:"validateVerifyCode",value:function(e){return!e||/[0-9]{4}/.test(e)}},{key:"validateCaptcha",value:function(e){return!e||/^[\da-zA-Z]{4}$/.test(e)}},{key:"validatePostCode",value:function(e){return!e||/^[1-9][0-9]{5}$/.test(e)}},{key:"validateMoney",value:function(e){return!e||/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(e)}},{key:"validatePayMoney",value:function(e){return!e||/^[0-9]{1,7}([.][0-9]{1,2})?$/.test(e)}},{key:"validateEmail",value:function(e){return!e||/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)}},{key:"validateUrl",value:function(e){return!e||/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?/.test(e)}},{key:"validateRealName",value:function(e){return e&&(e=e.trim()),!e||/^[\u4e00-\u9fa5]{2,6}$/.test(e.trim())}},{key:"validateIdCard",value:function(e){if(!/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e))return!1;if(18==e.length){var t,n=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),a=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0;for(t=0;t<17;t++)r+=e.substr(t,1)*n[t];return a[r%11]==e.substr(17,1)}}},{key:"validateCreditCard",value:function(e){if(/[^0-9-\s]+/.test(e))return!0;var t=0,n=0,a=!1;e=e.replace(/\D/g,"");for(var r=e.length-1;r>=0;r--){var i=e.charAt(r),n=parseInt(i,10);a&&(n*=2)>9&&(n-=9),t+=n,a=!a}return t%10==0}},{key:"validateChineseLength",value:function(e){return!e||/^[\u4e00-\u9fa5]{1,10}$/.test(e)}},{key:"validateCreditCodeLength",value:function(e){return!e||/^\w{18}$/.test(e)}},{key:"validatePositiveInteger",value:function(e){return!e||/^[0-9]*$/.test(e)}},{key:"validateImageCode",value:function(e){return!e||/^[a-zA-Z0-9]{4}$/.test(e)}}]),e}();t.default=r},686:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(25),o=(function(e){e&&e.__esModule?e:{default:e}}(l),function(){function e(){a(this,e)}return i(e,null,[{key:"ignoreFileUrl",value:function(e,t){return Object.assign({},e,{value:null,onChange:function(n){e.value=n.target.files,t&&t.forceUpdate(),e.onChange(n)}})}},{key:"trimStringImage",value:function(e){for(var t=r({},e),n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];for(var l in a)t[a[l]]instanceof FileList||(t[a[l]]=void 0);return t}},{key:"imageSrc",value:function(e){return e.value instanceof FileList?e.value.length>=1?e.value[0]:null:e.value}},{key:"extract",value:function(e,t){var n=void 0;n="select"===t?function(t,n,a){e.onChange(a)}:function(t){e.onChange(t)};var a=e.error,r=e.checked,i=e.defaultChecked,l=e.value,o=e.defaultValue,u=e.onBlur,s=e.onDragStart,d=e.onDrop,f=e.onFocus;return{errorText:e.touched&&a,checked:r,defaultChecked:i,value:l,defaultValue:o,onBlur:u,onChange:n,onDragStart:s,onDrop:d,onFocus:f}}}]),e}());t.default=o},1669:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u,s,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(25),v=a(c),h=n(245),y=n(841),p=a(y),m=n(686),g=a(m),b=n(1092),k=n(469),E=n(576),C=a(E),w=n(573),_=a(w),P=n(295),z=a(P),O=function(e){return new C.default(e).nonEmpty("notifyUrl","通知地址").errors},j=function(e){if(p.default.organizationId(e.router))return f({},e.organization.notifications)},K=["notifyUrl"],N=(o=(0,k.reduxForm)({form:"callback",fields:K,validate:O},function(e){return{initialValues:f({},j(e)),organization:e.organization.info,notifyUrl:e.organization.notifications,params:e.router.params,onSubmit:function(t,n){var a=p.default.organizationId(e.router),r=e.organization.notifications.id,i=t.notifyUrl,l=e.organization.notifications.secretKey,o=e.organization.secretKey.secretKey,u="";u=o?o:l;var s={notifyUrl:i,secretKey:u},d={notifyUrl:i,secretKey:u,id:r};n(r?(0,b.updateNotifications)(a,d):(0,b.addNotifications)(a,s))}}}),u=(0,h.connect)(function(e){return{notifications:e.organization.notifications,secretKey:e.organization.secretKey}}),o(s=u(s=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBuildKey=function(e){var t=p.default.organizationId(n.props);n.props.dispatch((0,b.findSecretKey)(t))},n.handleRebuildKey=function(e){var t=p.default.organizationId(n.props);n.props.dispatch((0,b.findSecretKey)(t))},n}return l(t,e),d(t,[{key:"componentDidMount",value:function(){var e=p.default.organizationId(this.props);this.props.secretKey.secretKey;e&&this.props.dispatch((0,b.findNotifications)(e))}},{key:"componentWillReceiveProps",value:function(e){p.default.organizationId(e)!==p.default.organizationId(this.props)&&this.props.dispatch((0,b.findNotifications)(organizationId))}},{key:"render",value:function(){var e=this.props,t=e.secretKey,n=e.notifications,a=e.fields.notifyUrl,r=e.handleSubmit,i=(e.organization,_.default.get("yyyy-mm-dd"),n.secretKey),l=t.secretKey;return v.default.createElement("form",{className:"callback-form",onSubmit:r},v.default.createElement("section",null,v.default.createElement("span",null,z.default.translate("notifications.address"),": "),v.default.createElement("input",f({},g.default.extract(a),{placeholder:z.default.translate("notifications.input-address")}))),v.default.createElement("section",null,v.default.createElement("span",null,z.default.translate("notifications.key"),":"),v.default.createElement("div",{className:"keys"},v.default.createElement("p",null,l?l:i),l||i?v.default.createElement("button",{className:"new-key",type:"button",onClick:this.handleRebuildKey},z.default.translate("common.rebuild")):v.default.createElement("button",{className:"new-key build",type:"button",onClick:this.handleBuildKey},z.default.translate("common.build")))),v.default.createElement("section",null,v.default.createElement("span",null),v.default.createElement("button",{type:"submit",className:"blueButton submit"},n?z.default.translate("common.update-address"):z.default.translate("common.create-address"))))}}]),t}(c.Component))||s)||s);t.default=N}});