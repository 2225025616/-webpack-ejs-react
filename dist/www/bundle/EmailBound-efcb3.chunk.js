webpackJsonp([84],{315:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(25),s=o(u),c=n(178),f=n(316),p=o(f),d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.disableLink,t=void 0;return t=this.props.to?this.props.to.indexOf("?")>=0?this.props.to+"&lang="+p.default.lang:this.props.to+"?lang="+p.default.lang:{javascript:void 0},"no"==e?s.default.createElement("span",null,this.props.children):s.default.createElement(c.Link,{to:t,className:this.props.className,style:this.props.style},this.props.children)}}]),t}(u.Component);t.default=d},1127:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(n){new p.default(n).getWithParams("/notifications",e,function(e){n({type:c.default.LIST_NOTIFICATIONS,all:e}),t&&t(e)})}}function r(e,t){return function(n){new p.default(n).post("/notifications/read",{notifications:e},function(){t()})}}function i(e,t){return function(n){new p.default(n).post("/notifications/delete",{notifications:e},function(e){t()})}}function l(e){return function(t){new p.default(t).post("/notifications/mark-all",{},function(){t({type:c.default.MARK_ALL}),e()})}}function u(){return function(e){new p.default(e).get("/notifications/unread",function(t){e({type:c.default.UNREAD,count:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.findNotifications=a,t.readNotification=r,t.deleteNotification=i,t.markAll=l,t.getUnreadNotifications=u;var s=n(448),c=o(s),f=n(449),p=o(f)},1981:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(25),u=function(e){return e&&e.__esModule?e:{default:e}}(l),s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"mobile-header"},this.props.children)}}]),t}(l.Component);t.default=s},1983:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(25),p=o(f),d=n(315),m=o(d),b=n(245),h=n(447),y=n(1127),v=(l=(0,b.connect)(function(e){return{user:Object.assign({},e.user.info,e.user.kycs),message:e.notification.unread}}))(u=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={showUser:!1,showProd:!1,top:""},o.componentDidMount=function(){window.addEventListener("click",o.hideNav),window.addEventListener("touchstart",o.hideNav)},o.componentWillUnmount=function(){o.props.user.id&&o.props.dispatch((0,y.getUnreadNotifications)()),window.removeEventListener("click",o.hideNav),window.removeEventListener("touchstart",o.hideNav)},o.hideNav=function(){(o.state.showUser||o.state.showProd)&&o.setState({showUser:!1,showProd:!1,top:""})},o.setShowState=function(e){return function(t){var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;n?o.setState(s({},e,{top:42*window.devicePixelRatio-n})):o.setState(e)}},o.stopBubble=function(e){e.stopPropagation()},o.loginOut=function(e){e.preventDefault(),o.props.dispatch((0,h.signOut)("/mobile"))},i=n,r(o,i)}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.message,o=this.state,a=o.showUser,r=o.showProd,i=o.top;return p.default.createElement("div",{className:"icon-wrap"},t.id?p.default.createElement("div",{className:"nav-wrap",onClick:this.stopBubble,onTouchStart:this.stopBubble},p.default.createElement("span",{className:"iconfont font-personal-1",onClick:this.setShowState({showUser:!a,showProd:!1})}),a?p.default.createElement("nav",{className:"subNav",style:""!==i?{top:i}:{}},p.default.createElement(m.default,{to:"/mobile/attestations/list",className:"user-links"},"我的保全 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/signatures/profile",className:"user-links"},"我的签名 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/messages",className:"user-links"},"消息通知",p.default.createElement("span",{className:"wrap"},n>0?p.default.createElement("span",{className:"message"},n):"",p.default.createElement("span",{className:"icon-go"}))),p.default.createElement(m.default,{to:"/mobile/order-list",className:"user-links"},"订单管理 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/balance",className:"user-links"},"账户余额 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/certification",className:"user-links"},"实名认证",p.default.createElement("span",{className:"wrap"},p.default.createElement("span",{className:"kyc"},"PASS"!==t.status&&"PASS"!==t.isKycPass?"未认证":"已认证"),p.default.createElement("span",{className:"icon-go"}))),p.default.createElement(m.default,{to:"/mobile/settings",className:"user-links"},"账户管理 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement("div",{className:"user-wrap"},p.default.createElement("span",{className:"phoneNumber"},t.phoneNumber||"158****1245"),p.default.createElement("span",{className:"btn-login-out",onClick:this.loginOut},"退出账号"))):""):p.default.createElement(m.default,{to:"/mobile/sign-in",className:"iconfont font-personal-1"}),p.default.createElement("div",{className:"nav-wrap",onClick:this.stopBubble,onTouchStart:this.stopBubble},p.default.createElement("span",{className:"iconfont font-more",onClick:this.setShowState({showProd:!r,showUser:!1})}),r?p.default.createElement("nav",{className:"subNav",style:""!==i?{top:i}:{}},p.default.createElement("h2",null,"产品与服务"),p.default.createElement(m.default,{to:"/mobile/production/electronic-certificate"},"可信电子凭证 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/production/baoquan-visa"},"保全签 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/production/forensic"},"司法鉴定通道 ",p.default.createElement("span",{className:"icon-go"}))):""))}}]),t}(f.Component))||u;t.default=v},1998:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(25),u=function(e){return e&&e.__esModule?e:{default:e}}(l),s=function(e){function t(){var e,n,r,i;o(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.test=function(){window.history.back()},i=n,a(r,i)}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("span",{className:"back",onClick:this.test})}}]),t}(l.Component);t.default=s},2007:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(25),p=o(f),d=n(1981),m=o(d),b=n(1998),h=o(b),y=n(1983),v=o(y),w=n(469),E=n(447),_=n(576),g=o(_),O=n(315),N=o(O),j=["email"],P=function(e){return new g.default(e).email("email","邮箱").errors},k=(l=(0,w.reduxForm)({form:"email-bound",fields:j,validate:P},function(e){return{user:e.user.info}}))(u=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.data={title:"绑定邮箱"},o.handleBindEmail=function(e){e.preventDefault(),o.props.dispatch((0,E.bindEmail)(o.props.fields.email.value,function(){}))},i=n,r(o,i)}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.fields.email,n=e.user,o=e.invalid;return p.default.createElement("div",{className:"user-common"},p.default.createElement(m.default,null,p.default.createElement(h.default,null),p.default.createElement("span",{className:"title"},this.data.title),p.default.createElement(v.default,null)),n.id?p.default.createElement("form",{onSubmit:this.handleBindEmail},p.default.createElement("input",s({placeholder:"请输入常用邮箱",type:"text"},t)),p.default.createElement("button",{type:"submit",className:"action "+(o?"btn-disabled":""),disabled:o},"确认绑定")):p.default.createElement("div",{className:"form"},p.default.createElement(N.default,{to:"/mobile/sign-in",className:"warning"},"请先登录")))}}]),t}(f.Component))||u;t.default=k}});