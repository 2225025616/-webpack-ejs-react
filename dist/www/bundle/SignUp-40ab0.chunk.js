webpackJsonp([79],{315:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(25),c=o(u),s=n(178),f=n(316),p=o(f),d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.disableLink,t=void 0;return t=this.props.to?this.props.to.indexOf("?")>=0?this.props.to+"&lang="+p.default.lang:this.props.to+"?lang="+p.default.lang:{javascript:void 0},"no"==e?c.default.createElement("span",null,this.props.children):c.default.createElement(s.Link,{to:t,className:this.props.className,style:this.props.style},this.props.children)}}]),t}(u.Component);t.default=d},696:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return function(o){new s.default(o).post("/sms",{phoneNumber:e,type:t,eContractId:n||""},function(){o(i(t))})}}function r(e,t,n,o){return function(a){new s.default(a).post("/user/sms",{phoneNumber:e,checkCode:t,type:n,userRegType:o},function(){a(i(n))})}}function i(e){if(!(f[e]>0))return f[e]=60,function(t){!function n(){t({type:u.default.DEC_SMS_VERIFY_CODE_REMAIN_TIME,remainTime:f}),--f[e]>=0&&setTimeout(n,1e3)}()}}Object.defineProperty(t,"__esModule",{value:!0}),t.verifySmsCode=a,t.verifySmsImgCode=r;var l=n(448),u=o(l),c=n(449),s=o(c),f={}},697:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o,a,r=(a=o=function e(){n(this,e)},o.Pay_URLATTESTATION="URLATTESTATION_PAY",o.Pay_ECONTRACT="ECONTRACT_PAY",o.Pay_NOTARY="NOTARY_PAY",o.Register="REGISTER",o.Pwd="FORGOT_PASSWORD",o.EContract="ECONTRACT_SIGN",o.Authentic="AUTHENTIC",o.Login="LOGIN",o.BIND_PHONE="BIND_PHONE",o.getTypes=function(){return["Pay_URLATTESTATION","Pay_ECONTRACT","Pay_NOTARY","Register","pwd","EContract","Authentic","LOGIN","BIND_PHONE"].map(function(e){return{name:e,value:r[e]}})},a);t.default=r},1127:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(n){new p.default(n).getWithParams("/notifications",e,function(e){n({type:s.default.LIST_NOTIFICATIONS,all:e}),t&&t(e)})}}function r(e,t){return function(n){new p.default(n).post("/notifications/read",{notifications:e},function(){t()})}}function i(e,t){return function(n){new p.default(n).post("/notifications/delete",{notifications:e},function(e){t()})}}function l(e){return function(t){new p.default(t).post("/notifications/mark-all",{},function(){t({type:s.default.MARK_ALL}),e()})}}function u(){return function(e){new p.default(e).get("/notifications/unread",function(t){e({type:s.default.UNREAD,count:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.findNotifications=a,t.readNotification=r,t.deleteNotification=i,t.markAll=l,t.getUnreadNotifications=u;var c=n(448),s=o(c),f=n(449),p=o(f)},1981:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(25),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"mobile-header"},this.props.children)}}]),t}(l.Component);t.default=c},1983:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(25),p=o(f),d=n(315),m=o(d),b=n(245),h=n(447),y=n(1127),v=(l=(0,b.connect)(function(e){return{user:Object.assign({},e.user.info,e.user.kycs),message:e.notification.unread}}))(u=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={showUser:!1,showProd:!1,top:""},o.componentDidMount=function(){window.addEventListener("click",o.hideNav),window.addEventListener("touchstart",o.hideNav)},o.componentWillUnmount=function(){o.props.user.id&&o.props.dispatch((0,y.getUnreadNotifications)()),window.removeEventListener("click",o.hideNav),window.removeEventListener("touchstart",o.hideNav)},o.hideNav=function(){(o.state.showUser||o.state.showProd)&&o.setState({showUser:!1,showProd:!1,top:""})},o.setShowState=function(e){return function(t){var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;n?o.setState(c({},e,{top:42*window.devicePixelRatio-n})):o.setState(e)}},o.stopBubble=function(e){e.stopPropagation()},o.loginOut=function(e){e.preventDefault(),o.props.dispatch((0,h.signOut)("/mobile"))},i=n,r(o,i)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.message,o=this.state,a=o.showUser,r=o.showProd,i=o.top;return p.default.createElement("div",{className:"icon-wrap"},t.id?p.default.createElement("div",{className:"nav-wrap",onClick:this.stopBubble,onTouchStart:this.stopBubble},p.default.createElement("span",{className:"iconfont font-personal-1",onClick:this.setShowState({showUser:!a,showProd:!1})}),a?p.default.createElement("nav",{className:"subNav",style:""!==i?{top:i}:{}},p.default.createElement(m.default,{to:"/mobile/attestations/list",className:"user-links"},"我的保全 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/signatures/profile",className:"user-links"},"我的签名 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/messages",className:"user-links"},"消息通知",p.default.createElement("span",{className:"wrap"},n>0?p.default.createElement("span",{className:"message"},n):"",p.default.createElement("span",{className:"icon-go"}))),p.default.createElement(m.default,{to:"/mobile/order-list",className:"user-links"},"订单管理 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/balance",className:"user-links"},"账户余额 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/certification",className:"user-links"},"实名认证",p.default.createElement("span",{className:"wrap"},p.default.createElement("span",{className:"kyc"},"PASS"!==t.status&&"PASS"!==t.isKycPass?"未认证":"已认证"),p.default.createElement("span",{className:"icon-go"}))),p.default.createElement(m.default,{to:"/mobile/settings",className:"user-links"},"账户管理 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement("div",{className:"user-wrap"},p.default.createElement("span",{className:"phoneNumber"},t.phoneNumber||"158****1245"),p.default.createElement("span",{className:"btn-login-out",onClick:this.loginOut},"退出账号"))):""):p.default.createElement(m.default,{to:"/mobile/sign-in",className:"iconfont font-personal-1"}),p.default.createElement("div",{className:"nav-wrap",onClick:this.stopBubble,onTouchStart:this.stopBubble},p.default.createElement("span",{className:"iconfont font-more",onClick:this.setShowState({showProd:!r,showUser:!1})}),r?p.default.createElement("nav",{className:"subNav",style:""!==i?{top:i}:{}},p.default.createElement("h2",null,"产品与服务"),p.default.createElement(m.default,{to:"/mobile/production/electronic-certificate"},"可信电子凭证 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/production/baoquan-visa"},"保全签 ",p.default.createElement("span",{className:"icon-go"})),p.default.createElement(m.default,{to:"/mobile/production/forensic"},"司法鉴定通道 ",p.default.createElement("span",{className:"icon-go"}))):""))}}]),t}(f.Component))||u;t.default=v},1998:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(25),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(){var e,n,r,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.test=function(){window.history.back()},i=n,a(r,i)}return r(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("span",{className:"back",onClick:this.test})}}]),t}(l.Component);t.default=c},1999:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.fields=void 0;var l,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=n(25),p=o(f),d=n(1981),m=o(d),b=n(1998),h=o(b),y=n(469),v=n(576),E=o(v),w=n(447),_=n(315),N=o(_),O=n(686),g=o(O),P=n(1983),C=o(P),T=n(696),j=n(456),k=n(697),S=o(k),A=t.fields=["phoneNumber","password","verifyCode","checkCode","accepted"],R=function(e){return new E.default(e).verifyCode("verifyCode","短信验证码").nonEmpty("checkCode","图形验证码").password("password","数字字母组合密码").phoneNumber("phoneNumber","正确的手机号").mustEqual("accepted",!0,"请先阅读并同意用户协议").errors},M=(l=(0,y.reduxForm)({form:"sign-up",fields:A,validate:R},function(e){return s({},e.sms,{imageCode:e.admin.imageCode,pathname:e.router.location.pathname,location:e.router.location,initialValues:{accepted:!0},onSubmit:function(e,t){t((0,w.signUp)(e,"/mobile/sign-in?phoneNumber="+e.phoneNumber))}})}))(u=function(e){function t(){var e,n,o,i;a(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.data={title:"注册"},o.componentWillMount=function(){o.handleGetGraphicCode()},o.handleGetGraphicCode=function(){o.props.dispatch((0,j.getGraphicCode)())},i=n,r(o,i)}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.fields,n=t.phoneNumber,o=t.verifyCode,a=t.password,r=t.checkCode,i=t.accepted,l=e.imageCode,u=e.invalid,c=e.remainTime,f=e.dispatch,d=S.default.Register;return p.default.createElement("div",{className:"user-common"},p.default.createElement(m.default,null,p.default.createElement(h.default,null),p.default.createElement("span",{className:"title"},this.data.title),p.default.createElement(C.default,null)),p.default.createElement("form",{onSubmit:this.props.handleSubmit},p.default.createElement("input",s({placeholder:"请输入手机号",type:"text"},g.default.extract(n))),p.default.createElement("div",{className:"image-code-wrap"},p.default.createElement("input",s({placeholder:"请输入图形验证码",type:"text"},g.default.extract(r))),p.default.createElement("img",{src:"data:image/png;base64,"+l,onClick:this.handleGetGraphicCode})),p.default.createElement("div",{className:"phone-number-wrap"},p.default.createElement("input",s({placeholder:"请输入验证码",type:"text"},g.default.extract(o))),p.default.createElement("button",{className:"btn-code "+(c[d]>0||n.invalid?"btn-disabled":""),disabled:!!(c[d]>0||n.invalid)||"",onClick:function(e){return f((0,T.verifySmsCode)(n.value,d))}},c[d]>0?c[d]+" 秒":"获取验证码")),p.default.createElement("input",s({placeholder:"请设置密码",type:"password"},g.default.extract(a))),p.default.createElement("div",{className:"tos-input-wrap"},p.default.createElement("input",s({type:"checkbox",id:"accept"},i)),p.default.createElement("label",{htmlFor:"accept"},"注册即表示同意 ",p.default.createElement(N.default,{to:"/mobile/tos"},"《用户协议》"))),p.default.createElement("button",{type:"submit",className:"action "+(u?"btn-disabled":""),disabled:u},"注册"),p.default.createElement("div",{className:"link-wrap"},p.default.createElement(N.default,{to:"/mobile/sign-in"},"已有账号，立即登录"))))}}]),t}(f.Component))||u;t.default=M}});